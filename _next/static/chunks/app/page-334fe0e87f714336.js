(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6505:function(e,s,t){Promise.resolve().then(t.bind(t,4206))},4206:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return q}});var l,n,i,a,o=t(7437),r=t(2265),c=e=>{let{submitCallback:s,loadCallback:t,saveCallback:l}=e,n=(0,r.useRef)(null),[i,a]=(0,r.useState)(""),[c,d]=(0,r.useState)("");return(0,o.jsxs)("div",{className:"flex bg-slate-400",children:[(0,o.jsx)("button",{className:"flex-none bg-yellow-500 hover:bg-yellow-600 text-white py-1 px-2",onClick:l,children:"Save"}),(0,o.jsx)("input",{type:"file",ref:n,style:{display:"none"},accept:".vqc",onChange:e=>{var s;let l=null===(s=e.target.files)||void 0===s?void 0:s[0];if(l){let e=new FileReader;e.onload=e=>{var s;t(null===(s=e.target)||void 0===s?void 0:s.result)},e.readAsText(l)}}}),(0,o.jsx)("button",{className:"flex-none bg-yellow-500 hover:bg-yellow-600 text-white py-1 px-2",onClick:()=>{n.current&&n.current.click()},children:"Load"}),(0,o.jsxs)("form",{className:"flex flex-auto",children:[(0,o.jsxs)("div",{className:"flex-auto flex py-1 px-2",children:[(0,o.jsx)("div",{className:"flex-none",children:"Mentee CSV:"}),(0,o.jsx)("input",{className:"flex-auto ms-5 w-48",type:"file",id:"menteeInput",name:"menteeInput",accept:".csv",onChange:e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];if(t){let e=new FileReader;e.onload=e=>{var s;d(null===(s=e.target)||void 0===s?void 0:s.result)},e.readAsText(t)}}})]}),(0,o.jsxs)("div",{className:"flex-auto flex py-1 px-2",children:[(0,o.jsx)("div",{className:"flex-none",children:"Mentor CSV:"}),(0,o.jsx)("input",{className:"flex-auto ms-5 w-48",type:"file",id:"mentorInput",name:"mentorInput",accept:".csv",onChange:e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];if(t){let e=new FileReader;e.onload=e=>{var s;a(null===(s=e.target)||void 0===s?void 0:s.result)},e.readAsText(t)}}})]}),(0,o.jsx)("input",{type:"submit",value:"Match",className:"flex-none bg-blue-500 hover:bg-blue-600 text-white py-1 px-2",onClick:e=>{e.preventDefault(),c&&i?s(c,i):alert("You need to upload mentor and mentee CSVs.")}})]})]})},d=t(947),m=t(3661),h=t(504),u=t(7922),p=t(626),f=t(1951);function x(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];if(s.length<2)throw Error("At least two lists are required for comparison.");let l=s.reduce((e,s)=>e.filter(e=>s.includes(e)));return Array.from(new Set(l))}(l=i||(i={})).DRIVER="driver",l.PASSENGER="passanger",l.SOLO="no carpool",(n=a||(a={})).SOLO="solo",n.COMENTOR="comentor",n.EITHER="either";class y{constructor(e,s){this.question=e,this.answer=s}}class g{isPassenger(){return"passanger"==this.carpoolStyle}isDriver(){return"driver"==this.carpoolStyle}isSolo(){return"no carpool"==this.carpoolStyle}compatible(e){let s=x(this.commutableGyms,e.commutableGyms).length>0,t=e.isSolo()&&this.isSolo(),l=x(this.climbingStyles,e.climbingStyles).length>0,n=x(this.availability,e.availability).length>0,i=this.email!=e.email;return l&&n&&i&&(!t||s)}constructor(e,s,t="they/them",l=[],n=[],i="no carpool",a=[],o=3,r=[],c=0){this.name=e,this.email=s,this.pronouns=t,this.climbingStyles=l,this.commutableGyms=n,this.carpoolStyle=i,this.availability=a,this.groupSize=o,this.otherResponses=r,this.uniqueId=c}}class b extends g{isSoloMentor(){return"solo"==this.wantCoMentor}compatible(e){let s=super.compatible(e);return e instanceof b?s&&!this.isSoloMentor()&&!e.isSoloMentor():s}constructor(e,s,t="they/them",l=[],n=[],i="no carpool",a=[],o=3,r=[],c="solo",d=0){super(e,s,t,l,n,i,a,o,r,d),this.wantCoMentor=c}}class v{constructor(e=[],s=[]){this.mentees=e,this.mentors=s}}let j=0;class w extends v{people(){return this.mentees.concat(this.mentors)}styles(){let e=[];return(this.people().forEach(s=>{e.push(s.climbingStyles)}),e.length>1)?x(...e):1==e.length?e[0]:[]}nonCarpoolGyms(){let e=[];return(this.people().forEach(s=>e.push(s.commutableGyms)),e.length>1)?x(...e):1==e.length?e[0]:[]}carpoolGyms(){let e=this.nonCarpoolGyms();return this.commutableGyms().filter(s=>!e.includes(s))}commutableGyms(){let e=[],s=this.people(),t=s.filter(e=>e.isDriver());return(s.forEach(s=>{let l=s.commutableGyms;s.isSolo()||t.forEach(e=>{l=l.concat(e.commutableGyms)}),e.push(l)}),e.length>1)?x(...e):1==e.length?e[0]:[]}carpoolGroup(){let e=[];return this.people().forEach(s=>{s.isSolo()||e.push(s)}),e}availability(){let e=[];return(this.people().forEach(s=>{e.push(s.availability)}),e.length>1)?x(...e):1==e.length?e[0]:[]}openSlots(){let e=100;return this.mentors.forEach(s=>{e=Math.min(e,s.groupSize)}),this.mentees.forEach(s=>{e=Math.min(e,s.groupSize)}),e-this.mentees.length}compatible(e){if(0==this.mentors.length&&0==this.mentees.length)return!0;let s=!e.isSolo()&&this.people().filter(e=>e.isDriver()).length>0,t=x(this.commutableGyms(),e.commutableGyms).length>0,l=!(e instanceof b)&&this.openSlots()>0&&e.groupSize>this.mentees.length,n=l||e instanceof b&&this.mentors.length<2,i=0==this.mentees.filter(s=>!s.compatible(e)).length,a=0==this.mentors.filter(s=>!s.compatible(e)).length,o=x(this.styles(),e.climbingStyles).length>0,r=x(this.availability(),e.availability).length>0;return n&&(t||s)&&i&&a&&o&&r}constructor(e=[],s=[],t=String(j++)){super(e,s),this.uniqueId=t}}var C=e=>{let{isOpen:s,onClose:t,children:l}=e,n=(0,r.useRef)(null);return((0,r.useEffect)(()=>{var e;null===(e=n.current)||void 0===e||e.focus()},[s]),s)?(0,o.jsxs)("dialog",{ref:n,className:"fixed top-0 left-0 w-full h-full flex items-center justify-center",onKeyDown:e=>{"Escape"===e.key&&t()},children:[(0,o.jsx)("div",{className:"absolute bg-gray-800 opacity-75 inset-0",onClick:t}),(0,o.jsxs)("div",{className:"bg-white rounded-lg p-8 z-10 divide-y divide-solid divide-purple-900 max-h-full overflow-y-auto",children:[l,(0,o.jsx)("button",{className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:t,children:"Close"})]})]}):null},N=t(4131),S=e=>{let{text:s,children:t=[]}=e,l=N.createHash("md5").update(s).digest("hex"),n=parseInt(l.substr(0,2),16)%200,i=parseInt(l.substr(2,2),16)%200,a=parseInt(l.substr(4,2),16)%200,r="rgb(".concat(n,", ").concat(i,", ").concat(a,")"),c="rgb(".concat(.75*n,", ").concat(.75*i,", ").concat(.75*a,")");return(0,o.jsxs)("span",{className:"text-xs font-bold bg-pink-600 border-pink-700 p-1 border-2 border-solid text-white rounded-lg",style:{backgroundColor:r,borderColor:c},children:[t,s]})},K=e=>{let{person:s,team:t,onMoved:l,ghost:n=!1}=e,[i,a]=(0,r.useState)(!1),c=s instanceof b,[{isDragging:d},m]=(0,f.c)(()=>({type:c?"Mentor":"Person",item:{person:s,team:t,onMoved:l},collect:e=>({isDragging:e.isDragging()})}));return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"border-2 border-black border-solid rounded-lg flex flex-wrap text-sm m-1 hover:bg-purple-600 hover:cursor-pointer hover:border-white",style:{backgroundColor:c?"#fef08a":"#d9f99d",opacity:n?.3:1},onClick:()=>{a(!0)},ref:n?null:m,children:[(0,o.jsx)(S,{text:s.pronouns}),(0,o.jsx)("h2",{className:"flex-auto p-1",children:s.name})]}),(0,o.jsxs)(C,{isOpen:i,onClose:()=>{a(!1)},children:[(0,o.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,o.jsx)("h1",{className:"mr-2 font-bold",children:s.name}),(0,o.jsx)(S,{text:s.pronouns})]}),(0,o.jsx)("p",{className:"p-4",children:s.email}),(0,o.jsx)("div",{className:"flex flex-wrap p-4",children:s.climbingStyles.map((e,s)=>(0,o.jsx)(S,{text:e},s))}),(0,o.jsx)("div",{className:"flex flex-wrap p-4",children:s.commutableGyms.map((e,s)=>(0,o.jsx)(S,{text:e},s))}),c&&(0,o.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,o.jsx)("h3",{className:"flex-none font-bold mr-2",children:"Mentor Style:"}),(0,o.jsx)("p",{className:"flex-auto",children:s.wantCoMentor})]}),(0,o.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,o.jsx)("h3",{className:"flex-none font-bold mr-2",children:"Carpool Choice:"}),(0,o.jsx)("p",{className:"flex-auto",children:s.carpoolStyle})]}),(0,o.jsx)("div",{className:"flex flex-wrap p-4",children:s.availability.map((e,s)=>(0,o.jsx)(S,{text:e},s))}),(0,o.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,o.jsx)("h3",{className:"flex-none font-bold mr-2",children:"Group Size:"}),(0,o.jsx)("p",{className:"flex-auto",children:s.groupSize})]}),(0,o.jsx)("div",{className:"p-4",children:s.otherResponses.map((e,s)=>(0,o.jsxs)("div",{className:"py-1",children:[(0,o.jsx)("p",{className:"font-bold text-sm",children:e.question}),(0,o.jsx)("p",{className:"text-sm",children:e.answer})]},s))})]})]})},M=e=>{let{team:s,deleteMe:t}=e,[l,n]=(0,r.useState)([...s.mentors]),[i,a]=(0,r.useState)([...s.mentees]),[c,d]=(0,r.useState)(!1),[m,f]=(0,r.useState)(null),[x,y]=(0,r.useState)(null),g=e=>{s.mentors=[...e],n(e)},b=e=>{s.mentees=[...e],a(e)},v=e=>{g(s.mentors.filter(s=>s.uniqueId!=e.uniqueId))},j=e=>{b(s.mentees.filter(s=>s.uniqueId!=e.uniqueId))},[{isOverMentor:w,draggedMentor:N},M]=(0,p.L)({accept:"Mentor",hover(e){e.team!==s&&f(e.person)},drop(e,t){if(e.team!==s)return g(s.mentors.concat(e.person)),e.onMoved(),e},collect:e=>({isOverMentor:e.isOver(),draggedMentor:e.getItem()})});!w&&m&&f(null);let[{isOverMentee:E,draggedMentee:k},G]=(0,p.L)({accept:"Person",hover(e){e.team!==s&&y(e.person)},drop(e,t){if(e.team!==s)return b(s.mentees.concat(e.person)),e.onMoved(),e},collect:e=>({isOverMentee:e.isOver(),draggedMentee:e.getItem()})});!E&&x&&y(null);let I="#818cf8",D=k||N;return D&&(I=s.compatible(D.person)?"#4ade80":"#f87171"),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"border-solid border-4 rounded-md bg-white divide-y divide-indigo-400 bg-slate-100 m-2 p-2",style:{borderColor:I},children:[(0,o.jsxs)("div",{ref:M,children:[(0,o.jsx)("div",{className:"font-bold",children:"Mentors"}),(0,o.jsxs)("div",{className:"flex flex-wrap",children:[l.map(e=>(0,o.jsx)(K,{person:e,team:s,onMoved:()=>v(e)},"mentor"+e.uniqueId)),null!=m?(0,o.jsx)(K,{ghost:!0,person:m,team:s}):(0,o.jsx)(o.Fragment,{})]})]}),(0,o.jsxs)("div",{ref:G,children:[(0,o.jsx)("div",{className:"font-bold",children:"Mentees"}),(0,o.jsxs)("div",{className:"flex flex-wrap",children:[i.map((e,t)=>(0,o.jsx)(K,{person:e,team:s,onMoved:()=>j(e)},"mentee"+e.uniqueId)),null!=x?(0,o.jsx)(K,{ghost:!0,person:x,team:s}):(0,o.jsx)(o.Fragment,{})]})]}),(0,o.jsxs)("div",{className:"divide-2 divide-indigo-400 divide-y text-sm",children:[(0,o.jsxs)("div",{className:"p-1",children:[(0,o.jsx)("div",{className:"font-bold text-center",children:"Climbing Styles"}),(0,o.jsx)("div",{className:"flex flex-wrap",children:s.styles().map(e=>(0,o.jsx)(S,{text:e},e+s.uniqueId))})]}),(0,o.jsxs)("div",{className:"p-1",children:[(0,o.jsx)("div",{className:"font-bold text-center",children:"Gyms"}),(0,o.jsxs)("div",{className:"flex flex-wrap",children:[s.nonCarpoolGyms().map((e,t)=>(0,o.jsx)(S,{text:e},e+s.uniqueId)),s.carpoolGyms().map(e=>(0,o.jsx)(S,{text:e,children:(0,o.jsx)(h.G,{className:"mr-2",icon:u.yn$})},e+s.uniqueId))]})]}),(0,o.jsxs)("div",{className:"p-1",children:[(0,o.jsx)("div",{className:"font-bold text-center",children:"Availability"}),(0,o.jsx)("div",{className:"flex flex-wrap",children:s.availability().map(e=>(0,o.jsx)(S,{text:e},e+s.uniqueId))})]})]}),(0,o.jsx)("button",{className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>{d(!0)},children:"Details"}),0==s.people().length?(0,o.jsx)("button",{className:"mt-4 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 float-right",onClick:t,children:"Delete"}):(0,o.jsx)(o.Fragment,{})]}),(0,o.jsxs)(C,{isOpen:c,onClose:()=>{d(!1)},children:[(0,o.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,o.jsx)("h3",{className:"flex-none font-bold mr-2",children:"Emails:"}),(0,o.jsx)("p",{className:"flex-auto",children:s.people().map(e=>e.email).join(", ")})]}),(0,o.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,o.jsx)("h3",{className:"flex-none font-bold mr-2",children:"Climbing Styles:"}),(0,o.jsx)("p",{className:"flex-auto",children:s.styles().join(", ")})]}),(0,o.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,o.jsx)("h3",{className:"flex-none font-bold mr-2",children:"Availability:"}),(0,o.jsx)("p",{className:"flex-auto",children:s.availability().join(", ")})]}),(0,o.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,o.jsx)("h3",{className:"flex-none font-bold mr-2",children:"Compatible Gyms:"}),(0,o.jsx)("p",{className:"flex-auto",children:s.commutableGyms().join(", ")})]}),(0,o.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,o.jsx)("h3",{className:"flex-none font-bold mr-2",children:"Carpool Required Gyms:"}),(0,o.jsx)("p",{className:"flex-auto",children:s.carpoolGyms().join(", ")})]}),(0,o.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,o.jsx)("h3",{className:"flex-none font-bold mr-2",children:"No Carpool Gyms:"}),(0,o.jsx)("p",{className:"flex-auto",children:s.nonCarpoolGyms().join(", ")})]}),(0,o.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,o.jsx)("h3",{className:"flex-none font-bold mr-2",children:"Carpool Drivers:"}),(0,o.jsx)("p",{className:"flex-auto",children:s.carpoolGroup().filter(e=>e.isDriver()).map(e=>e.name).join(", ")})]}),(0,o.jsxs)("div",{className:"flex flex-wrap p-4",children:[(0,o.jsx)("h3",{className:"flex-none font-bold mr-2",children:"Carpool Passengers:"}),(0,o.jsx)("p",{className:"flex-auto",children:s.carpoolGroup().filter(e=>e.isPassenger()).map(e=>e.name).join(", ")})]})]})]})},E=e=>{let{teams:s,deleteTeam:t,createTeam:l}=e;return(0,o.jsx)(d.W,{backend:m.PD,children:(0,o.jsxs)("div",{className:"grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2",children:[s.map(e=>(0,o.jsx)(M,{team:e,deleteMe:()=>t(e.uniqueId)},e.uniqueId)),s.length>0?(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:l,children:"Add new team"})}):(0,o.jsx)(o.Fragment,{})]})})},k=t(8922);class G{constructor(e="first and last name",s="contact email",t="pronouns",l="styles and skills",n="with a partner mentor",i="how many people",a="comfortable commuting to on your own",o="interested in carpooling",r="monday",c="tuesday",d="wednesday",m="thursday",h="friday",u="saturday",p="sunday"){this.nameKey=e,this.emailKey=s,this.pronounsKey=t,this.climbingStylesKey=l,this.wantCoMentorKey=n,this.groupSizeKey=i,this.commutableGymsKey=a,this.carpoolKey=o,this.mondayKey=r,this.tuesdayKey=c,this.wednesdayKey=d,this.thursdayKey=m,this.fridayKey=h,this.saturdayKey=u,this.sundayKey=p}}class I{constructor(e="first and last name",s="contact email",t="pronouns",l="skills you would like to work on",n="group size",i="comfortable commuting to on your own",a="interested in carpooling",o="monday",r="tuesday",c="wednesday",d="thursday",m="friday",h="saturday",u="sunday"){this.nameKey=e,this.emailKey=s,this.pronounsKey=t,this.climbingStylesKey=l,this.groupSizeKey=n,this.commutableGymsKey=i,this.carpoolKey=a,this.mondayKey=o,this.tuesdayKey=r,this.wednesdayKey=c,this.thursdayKey=d,this.fridayKey=m,this.saturdayKey=h,this.sundayKey=u}}class D{readMentors(e){let s=(0,k.Q)(e,{columns:!0,skip_empty_lines:!0}),t=[];return s.forEach(e=>{t.push(this.buildMentor(e))}),t}buildMentor(e){let s=new b("","","");for(let t in s.uniqueId=this.id++,e){let l=t.toLowerCase().trim();if(l.includes(this.mentorConfig.nameKey))s.name=e[t];else if(l.includes(this.mentorConfig.emailKey))s.email=e[t];else if(l.includes(this.mentorConfig.pronounsKey))s.pronouns=e[t];else if(l.includes(this.mentorConfig.climbingStylesKey))s.climbingStyles=e[t].toLowerCase().replace(/(\s|\([^)]*\))/g,"").split(",");else if(l.includes(this.mentorConfig.wantCoMentorKey))switch(e[t].toLowerCase().trim()){case"with a partner mentor":s.wantCoMentor=a.COMENTOR;break;case"on my own":s.wantCoMentor=a.SOLO;break;default:s.wantCoMentor=a.EITHER}else if(l.includes(this.mentorConfig.groupSizeKey))s.groupSize=parseInt(e[t]);else if(l.includes(this.mentorConfig.commutableGymsKey))s.commutableGyms=e[t].toLowerCase().replace(/(\s|\([^)]*\))/g,"").split(",");else if(l.includes(this.mentorConfig.carpoolKey))switch(e[t].toLowerCase().trim()){case"yes, i have a car":s.carpoolStyle=i.DRIVER;break;case"yes, i need a ride":s.carpoolStyle=i.PASSENGER;break;default:s.carpoolStyle=i.SOLO}else this.handleDate(s,t,e,this.mentorConfig.mondayKey)||this.handleDate(s,t,e,this.mentorConfig.tuesdayKey)||this.handleDate(s,t,e,this.mentorConfig.wednesdayKey)||this.handleDate(s,t,e,this.mentorConfig.thursdayKey)||this.handleDate(s,t,e,this.mentorConfig.fridayKey)||this.handleDate(s,t,e,this.mentorConfig.saturdayKey)||this.handleDate(s,t,e,this.mentorConfig.sundayKey)||s.otherResponses.push(new y(t,e[t]))}return s}handleDate(e,s,t,l){if(s.toLowerCase().trim().includes(l)){let n=t[s].toLowerCase().replace(/\s/g,"");return n.includes("notavailable")||n.split(",").forEach(s=>{e.availability.push(l+s)}),!0}return!1}readMentees(e){let s=(0,k.Q)(e,{columns:!0,skip_empty_lines:!0}),t=[];return s.forEach(e=>{t.push(this.buildMentee(e))}),t}buildMentee(e){let s=new g("","","");for(let t in s.uniqueId=this.id++,e){let l=t.toLowerCase().trim();if(l.includes(this.menteeConfig.nameKey))s.name=e[t];else if(l.includes(this.menteeConfig.emailKey))s.email=e[t];else if(l.includes(this.menteeConfig.pronounsKey))s.pronouns=e[t];else if(l.includes(this.menteeConfig.climbingStylesKey))s.climbingStyles=e[t].toLowerCase().replace(/(\s|\([^)]*\))/g,"").split(",");else if(l.includes(this.menteeConfig.groupSizeKey))s.groupSize=parseInt(e[t]);else if(l.includes(this.menteeConfig.commutableGymsKey))s.commutableGyms=e[t].toLowerCase().replace(/(\s|\([^)]*\))/g,"").split(",");else if(l.includes(this.menteeConfig.carpoolKey))switch(e[t].toLowerCase().trim()){case"yes, i have a car":s.carpoolStyle=i.DRIVER;break;case"yes, i need a ride":s.carpoolStyle=i.PASSENGER;break;default:s.carpoolStyle=i.SOLO}else this.handleDate(s,t,e,this.menteeConfig.mondayKey)||this.handleDate(s,t,e,this.menteeConfig.tuesdayKey)||this.handleDate(s,t,e,this.menteeConfig.wednesdayKey)||this.handleDate(s,t,e,this.menteeConfig.thursdayKey)||this.handleDate(s,t,e,this.menteeConfig.fridayKey)||this.handleDate(s,t,e,this.menteeConfig.saturdayKey)||this.handleDate(s,t,e,this.menteeConfig.sundayKey)||s.otherResponses.push(new y(t,e[t]))}return s}constructor(e=new G,s=new I,t=Math.floor(100*Math.random())+1){this.mentorConfig=e,this.menteeConfig=s,this.id=t}}var O=t(4098),R=t.n(O);function q(){let[e,s]=(0,r.useState)(!1),[t,l]=(0,r.useState)([]);return(0,o.jsxs)("body",{className:"font-sans bg-gray-800",children:[(0,o.jsx)(c,{submitCallback:(e,t)=>{var n;let i,o,r;s(!0);let c=new D;l((n=new v(c.readMentees(e),c.readMentors(t)),i=R()(n.mentors),function(e,s){let t;let l=(t=e=>1e3*Math.min(e.climbingStyles.length,e.commutableGyms.length,e.availability.length),e.sort((e,s)=>t(e)>t(s)?1:-1));s.forEach(e=>{for(let s=0;s<l.length;s++){let t=l[s];if(e.compatible(t)&&(e.mentees.push(t),l.splice(s,1),s--),0>=e.openSlots())break}})}(o=R()(n.mentees),r=function(e){var s;let t;s=e,t=e=>{let s=0;return e.wantCoMentor==a.COMENTOR&&(s=1),e.wantCoMentor==a.EITHER&&(s=2),1e6*s+1e3*Math.min(e.climbingStyles.length,e.commutableGyms.length,e.availability.length)};let l=[],n=[];for((e=s.sort((e,s)=>t(e)>t(s)?1:-1)).forEach(e=>{e.isSoloMentor()?l.push(new w([],[e])):n.push(e)});n.length>0;){let e=n[0];if(e.wantCoMentor==a.EITHER){l.push(new w([],[e])),n.splice(0,1);continue}let s=!1;for(let t=1;t<n.length;t++){let i=n[t];if(i.compatible(e)){l.push(new w([],[e,i])),n.splice(t,1),n.splice(0,1),s=!0;break}}s||(l.push(new w([],[e])),n.splice(0,1))}return l}(i)),o.length>0&&r.push(new w(o,[])),r)),s(!1)},loadCallback:e=>{s(!0);let t=Math.floor(100*Math.random())+1,n=JSON.parse(e).map(e=>new w(e.mentees.map(e=>{let s=Object.assign(new g("",""),e);return s.uniqueId=t++,s}),e.mentors.map(e=>{let s=Object.assign(new b("",""),e);return s.uniqueId=t++,s})));l(n),s(!1)},saveCallback:()=>{let e=JSON.stringify(t,null,2),s=new Blob([e],{type:"application/json"}),l=document.createElement("a");l.href=URL.createObjectURL(s),l.download="VQCMatcherState.vqc",document.body.appendChild(l),l.click(),document.body.removeChild(l)}}),(0,o.jsxs)("div",{className:"h-screen w-screen",children:[e?(0,o.jsx)("p",{children:"Loading..."}):(0,o.jsx)(o.Fragment,{}),0==t.length?(0,o.jsx)("p",{children:"Upload mentor and mentee CSVs and press Match, or load a previously saved file."}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)(E,{teams:t,deleteTeam:e=>{l(t.filter(s=>s.uniqueId!=e))},createTeam:()=>{l(t.concat(new w))}})]})]})}}},function(e){e.O(0,[676,218,582,971,472,744],function(){return e(e.s=6505)}),_N_E=e.O()}]);